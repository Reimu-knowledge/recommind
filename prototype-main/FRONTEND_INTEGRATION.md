# 前端后端集成说明

## 🚀 快速启动

### 1. 启动后端服务
```bash
cd backend
python app_simple.py
```
后端服务将在 `http://localhost:5000` 启动

### 2. 启动前端服务
```bash
cd prototype-main
npm install
npm run dev
```
前端服务将在 `http://localhost:5173` 启动

## 🔌 API集成状态

### ✅ 已集成的功能

#### 1. **学生管理**
- ✅ 学生创建和验证
- ✅ 学习会话管理
- ✅ 学生信息获取

#### 2. **智能推荐**
- ✅ 获取推荐题目
- ✅ 基于知识点的个性化推荐
- ✅ 推荐结果实时更新

#### 3. **答题系统**
- ✅ 答案提交和判分
- ✅ 实时反馈
- ✅ 知识点掌握度更新

#### 4. **错因分析**
- ✅ 智能错因分析
- ✅ 知识点巩固建议
- ✅ 个性化学习指导

#### 5. **薄弱知识点**
- ✅ 薄弱知识点识别
- ✅ 专项练习推荐
- ✅ 学习进度跟踪

## 📊 数据流程

### 学生登录流程
```
1. 用户登录 → 获取用户信息
2. 检查学生是否存在 → 不存在则创建
3. 开始学习会话 → 获取会话ID
4. 加载薄弱知识点 → 显示学习建议
5. 获取推荐题目 → 开始学习
```

### 答题学习流程
```
1. 学生选择答案 → 提交到后端
2. 后端判分 → 更新知识点掌握度
3. 返回答题结果 → 显示对错
4. 获取错因分析 → 显示巩固建议
5. 推荐新题目 → 继续学习
```

## 🎯 核心功能

### 1. 智能推荐系统
- **接口**: `GET /api/students/{id}/recommendations`
- **功能**: 基于学生当前掌握度推荐最适合的题目
- **特点**: 实时更新，个性化推荐

### 2. 错因分析系统
- **接口**: `GET /api/error-analysis/{question_id}/{option}`
- **功能**: 分析错误原因，提供知识点巩固建议
- **特点**: 智能分析，个性化指导

### 3. 薄弱知识点识别
- **接口**: `GET /api/students/{id}/weak-points`
- **功能**: 识别学生薄弱知识点，提供专项练习
- **特点**: 动态识别，精准定位

## 🔧 技术实现

### 前端架构
- **框架**: Vue 3 + TypeScript
- **UI库**: Element Plus
- **状态管理**: Pinia
- **HTTP客户端**: Fetch API

### 后端架构
- **框架**: Flask + SQLAlchemy
- **数据库**: SQLite
- **推荐引擎**: TransE知识图谱嵌入
- **API设计**: RESTful

### 数据同步
- **实时更新**: 答题后立即更新推荐
- **状态管理**: 前端状态与后端数据同步
- **错误处理**: 完善的错误处理和用户提示

## 📱 用户界面

### 学生端功能
1. **智能推荐**: 一键获取个性化推荐题目
2. **薄弱知识点**: 查看和选择薄弱知识点进行专项练习
3. **知识图谱**: 可视化知识结构和学习进度
4. **答题反馈**: 实时显示答题结果和错因分析
5. **学习统计**: 查看学习历史和掌握度变化

### 交互体验
- **响应式设计**: 适配不同屏幕尺寸
- **加载状态**: 清晰的加载提示
- **错误提示**: 友好的错误信息
- **成功反馈**: 及时的操作反馈

## 🧪 测试方法

### 1. 功能测试
```bash
# 测试后端API
cd backend
python test_api.py

# 测试错因分析
python test_error_analysis.py
```

### 2. 集成测试
1. 启动后端服务
2. 启动前端服务
3. 登录学生账号
4. 测试各个功能模块

### 3. 手动测试流程
1. **登录测试**: 验证学生创建和会话管理
2. **推荐测试**: 验证智能推荐功能
3. **答题测试**: 验证答题和错因分析
4. **薄弱点测试**: 验证薄弱知识点识别和专项练习

## 🚨 注意事项

### 1. 服务依赖
- 后端服务必须先启动
- 推荐系统需要正常初始化
- 错因分析数据需要正确加载

### 2. 数据一致性
- 学生ID必须唯一
- 学习会话需要正确管理
- 知识点掌握度需要实时更新

### 3. 错误处理
- 网络错误需要重试机制
- API错误需要友好提示
- 数据异常需要降级处理

## 🔄 更新日志

### v1.0.0 (当前版本)
- ✅ 完成学生端基础功能集成
- ✅ 实现智能推荐系统
- ✅ 集成错因分析功能
- ✅ 添加薄弱知识点识别
- ✅ 完善错误处理和用户反馈

### 下一步计划
- 🔄 教师端功能集成
- 🔄 学习数据分析
- 🔄 性能优化
- 🔄 移动端适配

## 💡 使用建议

### 开发环境
1. 使用Chrome开发者工具调试
2. 关注网络请求和响应
3. 检查控制台错误信息
4. 验证数据格式和类型

### 生产环境
1. 配置正确的API地址
2. 启用错误监控
3. 优化加载性能
4. 添加用户引导

## 📞 技术支持

如有问题，请检查：
1. 后端服务是否正常运行
2. 前端服务是否正常启动
3. API接口是否可访问
4. 数据格式是否正确
5. 网络连接是否正常
